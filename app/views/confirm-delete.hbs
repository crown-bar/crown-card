<div class="confirm-delete-wrapper">
    <h1>Are you sure you want to delete this card?</h1>
    <p>The balance of <span id="balance">{{balance}}</span> will be removed!</p>

    <input type="range" id="confirm-range" min="0" max="100" value="0" step="any" draggable="true">
    <label for="confirm-range">Slide to delete</label>
</div>

<form action="/card" method="post">
    <button class="button-gold">Cancel</button>
</form>

<script>
    function formatString (string) {
        return string.toString().slice(0, -2).padStart(1, '0')
                + '.' + string.toString().slice(-2).padStart(2, '0')
    }

    const balance = document.querySelector('#balance')
    balance.textContent = `CHF ${formatString(balance.textContent)}`

    const slider = document.querySelector('#confirm-range')
    slider.addEventListener('change', checkState)

    function checkState (input) {
        if (parseInt(slider.value) === 100) {
            console.log('here')
            window.location.href = '/card/delete/confirm'
        }
    }

</script>
